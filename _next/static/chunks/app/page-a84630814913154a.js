(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{6915:(e,a,t)=>{Promise.resolve().then(t.bind(t,3315))},3315:(e,a,t)=>{"use strict";t.d(a,{default:()=>K});var s=t(5155),r=t(2115),l=t(3463),n=t(9795);function o(){for(var e=arguments.length,a=Array(e),t=0;t<e;t++)a[t]=arguments[t];return(0,n.QP)((0,l.$)(a))}let i=r.forwardRef((e,a)=>{let{className:t,...r}=e;return(0,s.jsx)("div",{ref:a,className:o("rounded-xl border bg-card text-card-foreground shadow",t),...r})});i.displayName="Card",r.forwardRef((e,a)=>{let{className:t,...r}=e;return(0,s.jsx)("div",{ref:a,className:o("flex flex-col space-y-1.5 p-6",t),...r})}).displayName="CardHeader",r.forwardRef((e,a)=>{let{className:t,...r}=e;return(0,s.jsx)("div",{ref:a,className:o("font-semibold leading-none tracking-tight",t),...r})}).displayName="CardTitle",r.forwardRef((e,a)=>{let{className:t,...r}=e;return(0,s.jsx)("div",{ref:a,className:o("text-sm text-muted-foreground",t),...r})}).displayName="CardDescription";let d=r.forwardRef((e,a)=>{let{className:t,...r}=e;return(0,s.jsx)("div",{ref:a,className:o("p-6 pt-0",t),...r})});d.displayName="CardContent",r.forwardRef((e,a)=>{let{className:t,...r}=e;return(0,s.jsx)("div",{ref:a,className:o("flex items-center p-6 pt-0",t),...r})}).displayName="CardFooter";var c=t(2317);let m=(0,t(1027).F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground shadow hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90",outline:"border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2",sm:"h-8 rounded-md px-3 text-xs",lg:"h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),x=r.forwardRef((e,a)=>{let{className:t,variant:r,size:l,asChild:n=!1,...i}=e,d=n?c.DX:"button";return(0,s.jsx)(d,{className:o(m({variant:r,size:l,className:t})),ref:a,...i})});x.displayName="Button";let h=r.forwardRef((e,a)=>{let{className:t,type:r,...l}=e;return(0,s.jsx)("input",{type:r,className:o("flex h-9 w-full rounded-md border border-input bg-transparent px-3 py-1 text-base shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:a,...l})});h.displayName="Input";var u=t(6152),f=t(2926),g=t(8482),p=t(6535),y=t(5012),b=t(6694),j=t(5325),N=t(5524),v=t(6838);let w=r.forwardRef((e,a)=>{let{className:t,value:r,...l}=e;return(0,s.jsx)(v.bL,{ref:a,className:o("relative h-2 w-full overflow-hidden rounded-full bg-primary/20",t),...l,children:(0,s.jsx)(v.C1,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:"translateX(-".concat(100-(r||0),"%)")}})})});w.displayName=v.bL.displayName;let k=e=>{let{onNewCard:a}=e,[t,l]=(0,r.useState)(""),[n,o]=(0,r.useState)(!1),[c,m]=(0,r.useState)(null),u=async e=>{if(e.preventDefault(),t.trim()){o(!0),m(null);try{let e=await fetch("https://chinese-flashcard-generator.iamtimzhu.workers.dev",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({word:t.trim()})});if(!e.ok){let a=await e.json();throw Error(a.error||"Failed to generate flashcard")}let s=await e.json();console.log("Anthropic response:",s);let r=null;if(s.content&&Array.isArray(s.content)){for(let e of s.content)if("text"===e.type){let a=e.text.match(/\{[\s\S]*\}/);if(a)try{r=JSON.parse(a[0]);break}catch(e){console.warn("Failed to parse JSON in this content block, trying next one")}}}if(!r)throw Error("Could not extract valid flashcard data from response");let n={word:t.trim(),pinyin:r.pinyin||"",translation:r.translation||"",example:r.example||"",etymology:r.etymology||"",character_components:r.character_components||{},korean_translation:r.korean_translation||""};a(n),l("")}catch(e){console.error("Error generating flashcard:",e),m(e instanceof Error?e.message:"An unknown error occurred")}finally{o(!1)}}};return(0,s.jsx)(i,{className:"w-full bg-white dark:bg-gray-800",children:(0,s.jsx)(d,{children:(0,s.jsxs)("form",{onSubmit:u,className:"space-y-4 pt-6",children:[(0,s.jsx)("h3",{className:"text-lg font-medium",children:"Add New Word"}),(0,s.jsxs)("div",{className:"flex gap-2",children:[(0,s.jsx)(h,{type:"text",value:t,onChange:e=>l(e.target.value),placeholder:"Enter Chinese word or phrase",className:"flex-1",disabled:n}),(0,s.jsx)(x,{type:"submit",disabled:n||!t.trim(),children:n?"Generating...":"Add"})]}),c&&(0,s.jsx)("p",{className:"text-sm text-red-500",children:c})]})})})},C=r.forwardRef((e,a)=>{let{className:t,...r}=e;return(0,s.jsx)("textarea",{className:o("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:a,...r})});C.displayName="Textarea";var S=t(4173),A=t(689);let E=S.bL,R=S.l9,F=S.ZL;S.bm;let z=r.forwardRef((e,a)=>{let{className:t,...r}=e;return(0,s.jsx)(S.hJ,{ref:a,className:o("fixed inset-0 z-50 bg-black/80 backdrop-blur-sm data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...r})});z.displayName=S.hJ.displayName;let T=r.forwardRef((e,a)=>{let{className:t,children:r,...l}=e;return(0,s.jsxs)(F,{children:[(0,s.jsx)(z,{}),(0,s.jsxs)(S.UC,{ref:a,className:o("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg md:w-full",t),...l,children:[r,(0,s.jsxs)(S.bm,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[(0,s.jsx)(A.A,{className:"h-4 w-4"}),(0,s.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})});T.displayName=S.UC.displayName;let L=e=>{let{className:a,...t}=e;return(0,s.jsx)("div",{className:o("flex flex-col space-y-1.5 text-center sm:text-left",a),...t})};L.displayName="DialogHeader";let O=e=>{let{className:a,...t}=e;return(0,s.jsx)("div",{className:o("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",a),...t})};O.displayName="DialogFooter";let _=r.forwardRef((e,a)=>{let{className:t,...r}=e;return(0,s.jsx)(S.hE,{ref:a,className:o("text-lg font-semibold leading-none tracking-tight",t),...r})});_.displayName=S.hE.displayName,r.forwardRef((e,a)=>{let{className:t,...r}=e;return(0,s.jsx)(S.VY,{ref:a,className:o("text-sm text-muted-foreground",t),...r})}).displayName=S.VY.displayName;var P=t(5910);let q=e=>{let{onNewCard:a,apiUrl:t}=e,[l,n]=(0,r.useState)(!1),[o,i]=(0,r.useState)(""),[d,c]=(0,r.useState)(""),[m,u]=(0,r.useState)(""),[f,g]=(0,r.useState)(""),[p,y]=(0,r.useState)(""),[b,j]=(0,r.useState)(""),[N,v]=(0,r.useState)(""),[w,k]=(0,r.useState)(!1),[S,A]=(0,r.useState)(null),F=()=>{i(""),c(""),u(""),g(""),y(""),j(""),v(""),A(null)},z=()=>{F(),n(!1)},q=async e=>{if(e.preventDefault(),!o.trim()){A("Word is required");return}k(!0),A(null);try{let e={};if(N.trim())try{for(let a of N.split(",").map(e=>e.trim()).filter(Boolean)){let[t,s]=a.split(":").map(e=>e.trim()),r=t.trim();r&&s&&(e[r]=s.split("•").map(e=>e.trim()).filter(Boolean))}}catch(a){console.warn("Failed to parse character components:",a),e={Note:N}}let s={word:o.trim(),pinyin:d.trim(),translation:m.trim(),example:f.trim(),etymology:p.trim(),character_components:e,korean_translation:b.trim()},r=await fetch("".concat(t,"/manual-flashcard"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(s)});if(!r.ok){let e=await r.json();throw Error(e.error||"Failed to add flashcard")}let l=await r.json();a(l.card),z()}catch(e){console.error("Error adding flashcard:",e),A(e instanceof Error?e.message:"An unknown error occurred")}finally{k(!1)}};return(0,s.jsxs)(E,{open:l,onOpenChange:n,children:[(0,s.jsx)(R,{asChild:!0,children:(0,s.jsxs)(x,{variant:"outline",className:"flex items-center gap-2",onClick:()=>n(!0),children:[(0,s.jsx)(P.A,{className:"w-4 h-4"}),(0,s.jsx)("span",{children:"Add Manual Entry"})]})}),(0,s.jsxs)(T,{className:"sm:max-w-[500px] max-h-[90vh] overflow-y-auto",children:[(0,s.jsx)(L,{children:(0,s.jsx)(_,{children:"Add Vocabulary Manually"})}),(0,s.jsxs)("form",{onSubmit:q,className:"space-y-4 py-4",children:[(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)("label",{htmlFor:"word",className:"text-sm font-medium",children:"Chinese Word/Phrase*"}),(0,s.jsx)(h,{id:"word",value:o,onChange:e=>i(e.target.value),placeholder:"e.g. 你好",className:"w-full",disabled:w,required:!0})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)("label",{htmlFor:"pinyin",className:"text-sm font-medium",children:"Pinyin"}),(0,s.jsx)(h,{id:"pinyin",value:d,onChange:e=>c(e.target.value),placeholder:"e.g. nǐ hǎo",className:"w-full",disabled:w})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)("label",{htmlFor:"translation",className:"text-sm font-medium",children:"English Translation"}),(0,s.jsx)(h,{id:"translation",value:m,onChange:e=>u(e.target.value),placeholder:"e.g. Hello",className:"w-full",disabled:w})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)("label",{htmlFor:"example",className:"text-sm font-medium",children:"Example Sentence"}),(0,s.jsx)(C,{id:"example",value:f,onChange:e=>g(e.target.value),placeholder:"e.g. 你好，我叫小明",className:"w-full resize-none",disabled:w})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)("label",{htmlFor:"etymology",className:"text-sm font-medium",children:"Etymology/Notes"}),(0,s.jsx)(C,{id:"etymology",value:p,onChange:e=>y(e.target.value),placeholder:"Historical origin or notes about the word",className:"w-full resize-none",disabled:w})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)("label",{htmlFor:"components",className:"text-sm font-medium",children:"Character Components"}),(0,s.jsx)(C,{id:"components",value:N,onChange:e=>v(e.target.value),placeholder:"e.g. 汉: han (person) • zi (word), 语: yu (speak)",className:"w-full resize-none",disabled:w}),(0,s.jsx)("p",{className:"text-xs text-gray-500",children:"Format: character: component1 • component2, character2: component1"})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)("label",{htmlFor:"korean",className:"text-sm font-medium",children:"Korean Translation"}),(0,s.jsx)(h,{id:"korean",value:b,onChange:e=>j(e.target.value),placeholder:"Korean equivalent if known",className:"w-full",disabled:w})]}),S&&(0,s.jsx)("p",{className:"text-sm text-red-500",children:S}),(0,s.jsxs)(O,{children:[(0,s.jsx)(x,{type:"button",variant:"outline",onClick:z,disabled:w,children:"Cancel"}),(0,s.jsx)(x,{type:"submit",disabled:w||!o.trim(),children:w?"Adding...":"Add Flashcard"})]})]})]})]})};var U=t(1511);let D=r.forwardRef((e,a)=>{let{className:t,children:r,...l}=e;return(0,s.jsxs)(U.bL,{ref:a,className:o("relative overflow-hidden",t),...l,children:[(0,s.jsx)(U.LM,{className:"h-full w-full rounded-[inherit]",children:r}),(0,s.jsx)(M,{}),(0,s.jsx)(U.OK,{})]})});D.displayName=U.bL.displayName;let M=r.forwardRef((e,a)=>{let{className:t,orientation:r="vertical",...l}=e;return(0,s.jsx)(U.VM,{ref:a,orientation:r,className:o("flex touch-none select-none transition-colors","vertical"===r&&"h-full w-2.5 border-l border-l-transparent p-[1px]","horizontal"===r&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",t),...l,children:(0,s.jsx)(U.lr,{className:"relative flex-1 rounded-full bg-border"})})});M.displayName=U.VM.displayName;var J=t(8639);let V=e=>{let{cards:a}=e,[t,l]=(0,r.useState)(!1);return t?(0,s.jsx)(i,{className:"fixed bottom-4 right-4 w-96 h-[80vh] z-10",children:(0,s.jsxs)(d,{className:"p-4",children:[(0,s.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,s.jsxs)("h2",{className:"text-lg font-semibold",children:["Vocabulary List (",a.length,")"]}),(0,s.jsx)(x,{variant:"ghost",size:"sm",onClick:()=>l(!1),children:(0,s.jsx)(A.A,{className:"w-4 h-4"})})]}),(0,s.jsx)(D,{className:"h-[calc(80vh-100px)]",children:a.length>0?(0,s.jsx)("div",{className:"space-y-4",children:a.map((e,a)=>(0,s.jsxs)("div",{className:"border-b pb-2",children:[(0,s.jsx)("div",{className:"font-bold",children:e.word}),(0,s.jsx)("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:e.pinyin}),(0,s.jsx)("div",{className:"text-sm",children:e.translation})]},e.id||"card-".concat(a)))}):(0,s.jsx)("div",{className:"flex justify-center items-center h-full text-gray-500",children:"No vocabulary words yet"})})]})}):(0,s.jsxs)(x,{variant:"outline",size:"sm",className:"fixed bottom-4 right-4",onClick:()=>l(!0),children:[(0,s.jsx)(J.A,{className:"w-4 h-4 mr-2"}),"Show Vocabulary List (",a.length,")"]})},H=e=>{let{onCorrectPassword:a}=e,[t,l]=(0,r.useState)(""),[n,o]=(0,r.useState)(!1),[c,m]=(0,r.useState)(!1),f=async e=>{e.preventDefault(),m(!0);try{let e=new TextEncoder().encode(t),s=await crypto.subtle.digest("SHA-256",e);"d5195dceb1b1c2ac4ff7f2e83ac1a6f3f5a5f24370bf3c35c371ead8e5f40a8a"===Array.from(new Uint8Array(s)).map(e=>e.toString(16).padStart(2,"0")).join("")?(sessionStorage.setItem("isAuthenticated","true"),a()):(o(!0),setTimeout(()=>o(!1),2e3))}catch(e){o(!0),setTimeout(()=>o(!1),2e3)}finally{m(!1)}};return(0,s.jsx)("div",{className:"flex items-center justify-center w-full min-h-screen bg-gradient-to-br from-purple-50 to-blue-50 dark:from-gray-900 dark:to-slate-900",children:(0,s.jsx)(i,{className:"w-full max-w-md mx-4",children:(0,s.jsx)(d,{className:"pt-6",children:(0,s.jsxs)("form",{onSubmit:f,className:"space-y-4",children:[(0,s.jsx)("div",{className:"flex justify-center mb-6",children:(0,s.jsx)(u.A,{className:"w-12 h-12 text-indigo-500"})}),(0,s.jsx)("h2",{className:"text-xl font-semibold text-center mb-4",children:"Enter Password"}),(0,s.jsx)(h,{type:"password",placeholder:"Enter password",value:t,onChange:e=>l(e.target.value),className:"w-full ".concat(n?"border-red-500":""),disabled:c}),n&&(0,s.jsx)("p",{className:"text-red-500 text-sm text-center",children:"Incorrect password"}),(0,s.jsx)(x,{type:"submit",className:"w-full",disabled:c,children:c?"Checking...":"Access Flashcards"})]})})})})},I=e=>{let{text:a,variant:t="default"}=e,[l,n]=(0,r.useState)(!1),o=async()=>{try{n(!0);let e=await fetch("https://chinese-tts-proxy.iamtimzhu.workers.dev",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({text:a})});if(!e.ok){let a=await e.text();throw console.error("TTS Error:",a),Error("Failed to generate speech")}let t=await e.blob(),s=URL.createObjectURL(t),r=new Audio(s);r.onended=()=>{n(!1),URL.revokeObjectURL(s)},await r.play()}catch(e){console.error("Speech error:",e),n(!1)}};return"inline"===t?(0,s.jsx)("button",{onClick:e=>{e.stopPropagation(),l||o()},disabled:l,className:"inline-flex items-center justify-center w-6 h-6 ml-1 text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200",children:(0,s.jsx)(f.A,{className:"h-4 w-4 ".concat(l?"text-blue-500":"")})}):(0,s.jsx)(x,{variant:"outline",size:"icon",onClick:e=>{e.stopPropagation(),l||o()},disabled:l,className:"absolute top-4 right-4 bg-white/80 dark:bg-gray-800/80 hover:bg-gray-50 dark:hover:bg-gray-700",children:(0,s.jsx)(f.A,{className:"h-4 w-4 ".concat(l?"text-blue-500":"")})})},K=()=>{var e,a,t,l,n,o,c,m,h;let[u,f]=(0,r.useState)(!1),v="https://flashcard-data.yourusername.workers.dev",C=e=>[...e].sort(()=>Math.random()-.5),[S,A]=(0,r.useState)(0),[E,R]=(0,r.useState)(!1),[F,z]=(0,r.useState)([]),[T,L]=(0,r.useState)("light"),[O,_]=(0,r.useState)(new Set),[P,U]=(0,r.useState)(!1),[D,M]=(0,r.useState)(!0),[J,K]=(0,r.useState)({cardCount:0,uniqueCharacterCount:0}),W=(0,r.useCallback)(async()=>{try{M(!0);let e=await fetch("".concat(v,"/flashcards"));if(!e.ok)throw Error("Failed to fetch flashcards");let a=await e.json();z(C(a.cards||[])),K(a.stats||{cardCount:0,uniqueCharacterCount:0})}catch(e){console.error("Error fetching flashcards:",e),z([]),K({cardCount:0,uniqueCharacterCount:0})}finally{M(!1)}},[v]);if((0,r.useEffect)(()=>{U(!0),window.matchMedia("(prefers-color-scheme: dark)").matches&&(L("dark"),document.documentElement.classList.add("dark")),"true"===sessionStorage.getItem("isAuthenticated")&&(f(!0),W())},[W]),(0,r.useEffect)(()=>{u&&W()},[u,W]),!u)return(0,s.jsx)(H,{onCorrectPassword:()=>f(!0)});if(!P||D)return(0,s.jsx)("div",{className:"flex flex-col items-center gap-4 w-full max-w-2xl mx-auto p-4",children:(0,s.jsx)(i,{className:"min-h-[400px] max-h-[600px] max-w-md",children:(0,s.jsx)(d,{className:"h-full flex items-center justify-center p-4",children:(0,s.jsx)("div",{className:"text-2xl font-bold",children:"Loading..."})})})});let B=async()=>{if(F.length<=1)return;let e=F[S];console.log("Attempting to remove card:",e.word),z(e=>e.filter((e,a)=>a!==S)),S===F.length-1&&A(S-1),_(e=>new Set(Array.from(e).filter(e=>e!==S).map(e=>e>S?e-1:e))),R(!1);try{console.log("Sending delete request for word:",e.word);let a=await fetch("".concat(v,"/flashcards/").concat(encodeURIComponent(e.word)),{method:"DELETE"});if(console.log("Delete response status:",a.status),a.ok){let e=await a.json();console.log("Successfully deleted flashcard"),K(e.stats||{cardCount:F.length-1,uniqueCharacterCount:J.uniqueCharacterCount})}else{let e=await a.json();console.error("Failed to delete flashcard:",e.error)}}catch(e){console.error("Error when deleting flashcard:",e)}},X=F.length>0?O.size/F.length*100:0,Y=async e=>{z(a=>[...a,e]);try{let a=await fetch("".concat(v,"/flashcards"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({card:e})});if(!a.ok)throw Error("Failed to save flashcard");let t=await a.json();t.card&&t.card.id&&z(a=>a.map(a=>a.word===e.word?{...a,id:t.card.id}:a)),t.stats&&K(t.stats)}catch(e){console.error("Error saving flashcard:",e)}};return(0,s.jsx)("div",{className:"fixed inset-0 bg-gradient-to-br from-purple-50 to-blue-50 dark:from-gray-900 dark:to-slate-900 overflow-auto",children:(0,s.jsxs)("div",{className:"flex flex-col items-center max-w-2xl mx-auto px-6 pt-6 pb-24 min-h-full",children:[(0,s.jsx)(x,{variant:"outline",size:"icon",onClick:()=>{L(e=>{let a="light"===e?"dark":"light";return"dark"===a?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark"),a})},className:"self-end bg-white dark:bg-gray-800 shadow-sm hover:bg-gray-50 dark:hover:bg-gray-700",children:"light"===T?(0,s.jsx)(g.A,{className:"h-4 w-4"}):(0,s.jsx)(p.A,{className:"h-4 w-4"})}),(0,s.jsxs)("div",{className:"w-full space-y-4 bg-white dark:bg-gray-800 p-4 rounded-lg shadow-md mt-4",children:[(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsxs)("div",{className:"flex justify-between text-sm font-medium",children:[(0,s.jsx)("span",{className:"text-gray-600 dark:text-gray-400",children:"Study Progress"}),(0,s.jsxs)("span",{className:"text-gray-600 dark:text-gray-400",children:[Math.round(X),"% Complete"]})]}),(0,s.jsx)(w,{value:X,className:"h-2 bg-indigo-100 dark:bg-gray-700",children:(0,s.jsx)("div",{className:"h-full bg-gradient-to-r from-indigo-500 to-purple-500 transition-all duration-500 rounded-full"})})]}),(0,s.jsxs)("div",{className:"grid grid-cols-3 gap-4 mt-4",children:[(0,s.jsxs)("div",{className:"bg-indigo-50 dark:bg-indigo-900/30 p-3 rounded-lg text-center",children:[(0,s.jsx)("p",{className:"text-indigo-600 dark:text-indigo-300 text-lg font-bold",children:J.cardCount}),(0,s.jsx)("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:"Words/Phrases"})]}),(0,s.jsxs)("div",{className:"bg-purple-50 dark:bg-purple-900/30 p-3 rounded-lg text-center",children:[(0,s.jsx)("p",{className:"text-purple-600 dark:text-purple-300 text-lg font-bold",children:J.uniqueCharacterCount}),(0,s.jsx)("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:"Unique Characters"})]}),(0,s.jsxs)("div",{className:"bg-blue-50 dark:bg-blue-900/30 p-3 rounded-lg text-center",children:[(0,s.jsxs)("p",{className:"text-blue-600 dark:text-blue-300 text-lg font-bold",children:[Math.round(X),"%"]}),(0,s.jsx)("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:"Session Progress"})]})]}),(0,s.jsx)("div",{className:"flex justify-between items-center pt-2",children:(0,s.jsx)("span",{className:"text-sm text-gray-600 dark:text-gray-300",children:F.length>0?"Card ".concat(S+1," of ").concat(F.length):"No cards yet"})})]}),F.length>0?(0,s.jsx)(i,{className:"min-h-[400px] max-h-[600px] w-full cursor-pointer bg-gradient-to-br from-white to-gray-50 dark:from-gray-800 dark:to-gray-900 shadow-lg hover:shadow-xl transition-shadow duration-200 mt-4",onClick:()=>{R(!E)},children:(0,s.jsxs)(d,{className:"h-full flex items-center justify-center p-6 relative",children:[E?(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsx)("p",{className:"text-xl sm:text-2xl text-blue-600 dark:text-blue-400",children:null===(a=F[S])||void 0===a?void 0:a.pinyin}),(0,s.jsx)("p",{className:"text-lg sm:text-xl font-medium text-purple-600 dark:text-purple-400",children:null===(t=F[S])||void 0===t?void 0:t.translation}),(0,s.jsxs)("p",{className:"text-sm text-gray-600 dark:text-gray-400 flex items-center",children:[null===(l=F[S])||void 0===l?void 0:l.example,(0,s.jsx)(I,{text:(null===(n=F[S])||void 0===n?void 0:n.example)||"",variant:"inline"})]}),(0,s.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:null===(o=F[S])||void 0===o?void 0:o.etymology}),(0,s.jsxs)("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:[(0,s.jsx)("h4",{className:"font-medium",children:"Character Components:"}),Object.entries((null===(c=F[S])||void 0===c?void 0:c.character_components)||{}).map(e=>{let[a,t]=e;return(0,s.jsxs)("p",{children:[a,": ",Array.isArray(t)?t.join(" • "):t]},a)})]}),(0,s.jsxs)("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:[(0,s.jsx)("h4",{className:"font-medium",children:"Korean Translation:"}),(0,s.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:null===(m=F[S])||void 0===m?void 0:m.korean_translation})]})]}):(0,s.jsx)("div",{className:"relative top-20 text-5xl font-bold bg-clip-text text-transparent bg-gradient-to-r from-red-600 to-rose-600 dark:from-red-400 dark:to-rose-400",children:null===(e=F[S])||void 0===e?void 0:e.word}),(0,s.jsx)(I,{text:(null===(h=F[S])||void 0===h?void 0:h.word)||""})]})}):(0,s.jsx)(i,{className:"min-h-[400px] max-h-[600px] w-full mt-4",children:(0,s.jsx)(d,{className:"h-full flex items-center justify-center p-6",children:(0,s.jsxs)("div",{className:"text-center text-gray-500 dark:text-gray-400",children:[(0,s.jsx)("p",{className:"text-xl",children:"No flashcards yet"}),(0,s.jsx)("p",{className:"mt-2",children:"Add a new word below to get started"})]})})}),(0,s.jsxs)("div",{className:"flex justify-between w-full gap-4 mt-4",children:[(0,s.jsxs)(x,{variant:"outline",onClick:()=>{S>0&&(A(S-1),R(!1))},disabled:0===S||0===F.length,className:"flex-1 bg-white hover:bg-gray-50 dark:bg-gray-800 dark:hover:bg-gray-700 shadow-sm",children:[(0,s.jsx)(y.A,{className:"h-4 w-4 mr-2"}),(0,s.jsx)("span",{className:"hidden sm:inline",children:"Previous"})]}),(0,s.jsxs)(x,{variant:"outline",onClick:()=>{z(C(F)),A(0),R(!1),_(new Set)},disabled:F.length<=1,className:"flex-1 bg-white hover:bg-gray-50 dark:bg-gray-800 dark:hover:bg-gray-700 shadow-sm",children:[(0,s.jsx)(b.A,{className:"h-4 w-4 mr-2"}),(0,s.jsx)("span",{className:"hidden sm:inline",children:"Shuffle"})]}),(0,s.jsxs)(x,{variant:"outline",onClick:()=>{S<F.length-1&&(A(S+1),R(!1),_(e=>new Set(e).add(S)))},disabled:S===F.length-1||0===F.length,className:"flex-1 bg-white hover:bg-gray-50 dark:bg-gray-800 dark:hover:bg-gray-700 shadow-sm",children:[(0,s.jsx)("span",{className:"hidden sm:inline",children:"Next"}),(0,s.jsx)(j.A,{className:"h-4 w-4 ml-2"})]})]}),(0,s.jsx)("div",{className:"pt-8 w-full space-y-4",children:(0,s.jsxs)("div",{className:"flex flex-col sm:flex-row gap-4",children:[(0,s.jsx)("div",{className:"flex-1",children:(0,s.jsx)(k,{onNewCard:Y})}),(0,s.jsx)("div",{className:"flex-shrink-0 flex items-end",children:(0,s.jsx)(q,{onNewCard:Y,apiUrl:v})})]})}),(0,s.jsx)(V,{cards:F}),(0,s.jsxs)(x,{variant:"outline",onClick:B,disabled:F.length<=1,className:"fixed bottom-6 left-6 ml-6 bg-white hover:bg-gray-50 dark:bg-gray-800 dark:hover:bg-gray-700 shadow-sm text-red-500 hover:text-red-600 dark:text-red-400 dark:hover:text-red-300",children:[(0,s.jsx)(N.A,{className:"h-4 w-4 mr-2"}),(0,s.jsx)("span",{className:"hidden sm:inline",children:"Remove Card"})]})]})})}}},e=>{var a=a=>e(e.s=a);e.O(0,[247,441,517,358],()=>a(6915)),_N_E=e.O()}]);